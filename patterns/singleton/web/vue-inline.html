<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vue + TypeScript Singleton Demo (Inline)</title>
    <style>
      body { font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif; }
      .wrap { max-width: 900px; margin: 60px auto; text-align: center; }
      h1 { font-weight: 600; color: #2c3e50; }
      button { background: #64b687; color: #fff; border: 0; padding: 10px 16px; border-radius: 8px; cursor: pointer; }
      button:hover { filter: brightness(0.95); }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="module">
      import { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js';

      class VueLazySingleton {
        static instance = null;
        constructor() {
          console.log('âœ… Singleton ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }
        static getInstance() {
          if (!VueLazySingleton.instance) {
            VueLazySingleton.instance = new VueLazySingleton();
          }
          return VueLazySingleton.instance;
        }
        hello() {
          console.log('ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Singleton ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤ ğŸ‘‹');
        }
      }

      function now() { return new Date().toISOString(); }

      const app = createApp({
        setup() {
          const title = ref('Vue + TypeScript Singleton Demo');
          const onClick = () => {
            const s1 = VueLazySingleton.getInstance();
            s1.hello();
            console.log(`[${now()}] ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ Singleton ì‚¬ìš©!`);
            const s2 = VueLazySingleton.getInstance();
            console.log('ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì¸ê°€ìš”?', s1 === s2);
          };
          return { title, onClick };
        },
        template: `
          <div class="wrap">
            <h1>{{ title }}</h1>
            <button @click="onClick">Singleton í…ŒìŠ¤íŠ¸</button>
          </div>
        `,
      });

      app.mount('#app');
    </script>
  </body>
  </html>
